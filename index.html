<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typin Speed Test</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Lato:wght@300&family=Rowdies:wght@300&display=swap" rel="stylesheet">
    <Style>
        *{
            margin: 0%;
            padding: 0%;
            font-family: 'Lato', sans-serif;
            font-family: 'Rowdies', cursive;
        }
    body{
        height: 100vh;
        background-color:  rgb(66, 66, 233);
       
    }
   #h1{
     color: white;
   }
   /* #h2{
       display: flex;
       justify-content: center;
   } */
   .container{
       display: flex;
       justify-content: center;
       margin-top: 15vh;
   }
   
   .container2{
       margin-top: 20px;
      display: flex;
     justify-content: center;
   }
   #input{
       width: 800px;
       height: 220px;
        background-color: darkgray;
       border-radius: 20px 20px 0 0;
       border: 20PX solid darkslateblue;
   }
   .main-btn{
       width: 60px;
       padding: 3px;
       margin-top: 20px;
       margin-left: 660px;
   }
   .H2{
       height: 80px;
       width: 90%;
      display: flex;
      justify-content: center;
      padding: 20px;
   }
   </Style>

</head>

 <body>
    <div class="container">
       <h1 id="h1">Welcome To Typing Speed Test</h1>
    </div><br>
    <div class="H2">    
        <h2 id="h2">hello</h2> 
    </div>
       <div class="container2">
     <textarea id="input" placeholder="Let's Start"></textarea> <br>
    </div>    
     <button id ="btn" class="main-btn">Start</button>

     <script>

    const setOfWords = ["Self-confidence is a tricky subject for many people.", "For some, it's impossible to feel good about themselves without outside validation.", "When you're in a situation where the people in your life aren't helping you to feel better about yourself, this can become a problem in your day to day life.", "Most insecurity stems from feelings of not being attractive or feelings of loneliness. If your insecurity doesn't necessarily stem from a lack of interaction, but more a lack of feeling attractive, there are other options that will help you online.", "Sometimes the best way to put your insecurities to rest can simply be to get an honest opinion. There are multiple support groups online where you can share a picture of yourself with other members and they will give honest feedback on your appearance.", "In most cases, they will point out good qualities that you may have missed in yourself. But you can trust them to be honest and many members give very valuable style and posture advice to increase your attractiveness.", "These practical tips and unbiased opinions from supportive strangers will immediately help you feel better about yourself, and if the tips are implemented it will also improve your self-esteem in the long-run."];

    let h2 =    document.getElementById("h2");
    let input = document.getElementById("input");
    let btn =   document.getElementById("btn");
    let startTime, endTime;

        const StartGame = () => {
        let randomNumber = Math.floor(Math.random()*setOfWords.length);
        h2.innerText = setOfWords[randomNumber];

        //  Current time
        let date = new Date();
        startTime = date.getTime();
        btn.innerText = "Done";
    }

    const lengthCounter = (str) =>{
        let count = str.split(" ").length;
        return count ;
    }

      const endGame = ()=> {
        let date = new Date();
        endTime = date.getTime();
        let totalTime = (endTime-startTime)/1000;
        let inputStr = input.value;
        let inputLength = lengthCounter(inputStr);
 
        let speed = Math.round((inputLength /totalTime)*60);

        let finalMsg = `you typed total at ${speed} words per Minutes `
        finalMsg += compareWords(h2.innerText, inputStr);
        h2.innerText = finalMsg;

      }

      const  compareWords = (text , str)=> {
          let words1 = text.split(" ");
          let words2 = str.split(" ");
          let c = 0;

          words1.forEach(function(item, index){
              if(item ==words2[index])
              c++;
          })

          let errorWords = (words1.length - c);
          return (` ${c} correct out of ${words1.length} and the total number of error are ${errorWords}`);
      }


    btn.addEventListener('click', function(){
        if(btn.textContent=="Start"){
        input.disabled = false;
        let str="";
        input.value = str
         StartGame();
        }
        else if(btn.textContent=="Done"){
               input.disabled = true;
               btn.textContent ="Start";
               endGame();
        }
    })
    </script>

 </body>

 </html>